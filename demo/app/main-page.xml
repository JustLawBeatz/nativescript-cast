<Page
  xmlns="http://schemas.nativescript.org/tns.xsd"
  loaded="pageLoaded"
  class="page"
  xmlns:cast="nativescript-cast"
>
  <ActionBar title="Cast Demo">
    <ActionItem
      ios.position="right"
      android:visibility="{{ castVisibility }}"
    >
      <StackLayout>
        <cast:CastButton
          id="cast"
          cast="{{ handleCastEvent }}"
        />
      </StackLayout>
    </ActionItem>
  </ActionBar>
  <StackLayout>
    <ScrollView>
      <StackLayout>
        <Button
          text="Load Media"
          tap="{{ handleLoadTap }}"
          class="btn btn-primary"
          isEnabled="{{ canCast }}"
        />
        <StackLayout visibility="{{ canCast ? 'visible' : 'collapsed'}}">
          <FlexboxLayout
            orientation="horizontal"
            justifyContent="space-between"
            class="controls"
          >
            <Button
              text="&#xf04b; Play"
              tap="{{ handlePlayTap }}"
              class="btn btn-primary fas"
              isEnabled="{{ canCast }}"
            />
            <Button
              text="&#xf04c; Pause"
              tap="{{ handlePauseTap }}"
              class="btn btn-primary fas"
              isEnabled="{{ canCast }}"
            />
            <Button
              text="&#xf04e; Seek"
              tap="{{ handleSeekTap }}"
              class="btn btn-primary fas"
              isEnabled="{{ canCast }}"
            />
            <Button
              text="&#xf04d; Stop"
              tap="{{ handleStopTap }}"
              class="btn btn-primary fas"
              isEnabled="{{ canCast }}"
            />
          </FlexboxLayout>

          <Button
            text="Show controller"
            tap="{{ handleShowControllerTap }}"
            class="btn btn-primary"
            isEnabled="{{ canCast }}"
          />

          <Button
            text="Switch Text Track"
            tap="{{ handleSwitchTextTrackTap }}"
            class="btn btn-primary"
            isEnabled="{{ canCast }}"
          />

          <Label text="Queue" />

          <Button
            text="&#xf100; Prev"
            tap="{{ handlePrevTap }}"
            class="btn btn-primary fas"
            isEnabled="{{ canCast }}"
          />
          <Button
            text="&#xf101; Next"
            tap="{{ handleNextTap }}"
            class="btn btn-primary fas"
            isEnabled="{{ canCast }}"
          />

          <Label text="Media Status" />
          <TextView
            text="{{ mediaStatusString }}"
            editable="false"
            class="media-info"
          />

          <Label text="Media Info" />
          <TextView
            text="{{ mediaInfoString }}"
            editable="false"
            class="media-info"
          />
        </StackLayout>
      </StackLayout>
    </ScrollView>
  </StackLayout>
</Page>
